<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript/arrayMap2.html</title>
</head>

<body>
    <select name="gender" id="gender" onchange="onchangeFunc()">
        <option value="Male">Male</option>
        <option value="Female">Female</option>
    </select>
    <p id="show"></p>
    <script>
        var jsonData = [{ "id": 1, "first_name": "Audi", "last_name": "Tolputt", "email": "atolputt0@telegraph.co.uk", "gender": "Female", "ip_address": "128.138.253.42" },
        { "id": 2, "first_name": "Nydia", "last_name": "Bradborne", "email": "nbradborne1@ameblo.jp", "gender": "Female", "ip_address": "226.84.127.96" },
        { "id": 3, "first_name": "Penni", "last_name": "Moff", "email": "pmoff2@sfgate.com", "gender": "Female", "ip_address": "238.4.204.47" },
        { "id": 4, "first_name": "Melloney", "last_name": "Latek", "email": "mlatek3@istockphoto.com", "gender": "Female", "ip_address": "152.1.213.39" },
        { "id": 5, "first_name": "Cleve", "last_name": "Duffer", "email": "cduffer4@phpbb.com", "gender": "Male", "ip_address": "149.31.213.67" },
        { "id": 6, "first_name": "Annis", "last_name": "Bingley", "email": "abingley5@deviantart.com", "gender": "Female", "ip_address": "99.54.232.182" },
        { "id": 7, "first_name": "Cindie", "last_name": "Annand", "email": "cannand6@youtu.be", "gender": "Female", "ip_address": "134.7.127.36" },
        { "id": 8, "first_name": "Jay", "last_name": "Cana", "email": "jcana7@icio.us", "gender": "Male", "ip_address": "166.11.95.88" },
        { "id": 9, "first_name": "Bart", "last_name": "Goslin", "email": "bgoslin8@joomla.org", "gender": "Male", "ip_address": "98.74.162.130" },
        { "id": 10, "first_name": "Maddie", "last_name": "Janauschek", "email": "mjanauschek9@ftc.gov", "gender": "Male", "ip_address": "33.176.217.50" },
        { "id": 11, "first_name": "Tarrance", "last_name": "Addy", "email": "taddya@timesonline.co.uk", "gender": "Male", "ip_address": "196.227.49.187" },
        { "id": 12, "first_name": "Judah", "last_name": "Gomm", "email": "jgommb@hud.gov", "gender": "Male", "ip_address": "45.72.57.59" },
        { "id": 13, "first_name": "Nisse", "last_name": "Laguerre", "email": "nlaguerrec@answers.com", "gender": "Female", "ip_address": "254.72.94.77" },
        { "id": 14, "first_name": "Lynnette", "last_name": "Soars", "email": "lsoarsd@odnoklassniki.ru", "gender": "Female", "ip_address": "226.1.16.123" },
        { "id": 15, "first_name": "Ailee", "last_name": "Elintune", "email": "aelintunee@dagondesign.com", "gender": "Female", "ip_address": "242.203.195.199" }]

        function onchangeFunc() {
            var newAry = jsonData.map(function (o, i, a) {
                o.first_name = o.first_name.toUpperCase();
                return o;
            });

            var filterAry = newAry.filter(function (o, i) {
                return o.gender == document.getElementById("gender").value;
            });

            console.log(filterAry);
            var $show = document.getElementById("show");

            //기존화면요소 삭제
            var cnt = $show.children.length; //elem 하위요소들의 갯수를 변수에 담음
            for (var i = 0; i < cnt; i++) {
                $show.removeChild($show.firstChild);
            }

            //하위자식으로 등록
            filterAry.forEach(function (a) {
                var $text = document.createTextNode(a.first_name + ", " + a.gender);
                var $li = document.createElement("li");
                $li.appendChild($text);
                $show.appendChild($li);
            });

        }

    </script>
</body>

</html>